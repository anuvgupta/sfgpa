<!DOCTYPE html>
<html>
	<head>
		<title>GPA Calculator</title>
		<link rel = 'icon' type = 'image/png' href = './img/sfhsFav.png'/>
		<script src = './js/jquery-2.1.4.min.js' type = 'text/javascript'></script>
		<script src = './js/functions.js' type = 'text/javascript'></script>
		<script type = 'text/javascript'>
			var letters = [' F ', ' D ', ' D+', ' C-', ' C ', ' C+', ' B-', ' B ', ' B+', ' A-', ' A '];
			var gpas = [0.0, 1.0, 1.3, 1.7, 2.0, 2.3, 2.7, 3.0, 3.3, 3.7, 4];
			var courses = [10, 10, 10, 10, 10, 10, 10];
			var honors = [false, false, false, false, false, false, false];
			function recalculate() {
				var newGPA = 0.000;
				for(var i = 0; i < 7; i++) {
					newGPA += gpas[courses[i]];
					if(honors[i]) newGPA++;
				}
				newGPA = newGPA/7;
				_('GPAText').innerHTML = 'GPA: ' + newGPA.toFixed(2);
			}
			function leftHandler(j) {
				return function(event) { 
        			if(courses[j] > 0) courses[j]--;
					_(j + 1).innerHTML = letters[courses[j]];
					recalculate();
    			};
			}
			function rightHandler(j) {
				return function(event) {
					if(courses[j] < 10) courses[j]++;
					_(j + 1).innerHTML = letters[courses[j]];
					recalculate();
				};
			}
			function honorsHandler(j) {
				return function(event) {
					if(honors[j]) _('h' + (j + 1)).src = './img/box.png';
					else _('h' + (j + 1)).src = './img/box2.png';
					honors[j] = !honors[j];
					recalculate();
				};
			}
			function setEvents() {
				for (var i = 0; i < 7; i++) {
					$('#l' + (i + 1)).click(leftHandler(i));
					$('#r' + (i + 1)).click(rightHandler(i));
					$('#h' + (i + 1)).click(honorsHandler(i));
				}
			}
			$(document).ready(setEvents);
		</script>
		<style type = 'text/css'>
			body { text-align: center; font: 43px Courier New, verdana, sans-serif; padding: 7; background-color: #FAFAFA; }
			td { font: 43px Courier New, verdana, sans-serif; text-align: center; }
			form { padding: 90px 0 0 35px; }
			#title { font-size: 53px; }
			.tHead { font-size: 32px; }
			.a { height: 30px; padding: 0 20px 0 20px; opacity: 0.6; }
			.a:hover { opacity: 0.8; }
			.h { height: 32px; padding: 0 20px 0 20px; opacity: 0.8; }
			.h:hover { opacity: 0.7; }
			#GPAText { color: green; font-size: 45px; }
		</style>
	</head>
	<body>
		<center>
			<form>
				<b id = 'title'>SFHS GPA CALCULATOR</b><br/>
				<table>
					<tr>
						<td class = 'tHead'>COURSE</td>
						<td class = 'tHead'>GRADE</td>
						<td class = 'tHead'>H|AP</td>
					</tr>
					<tr>
						<td>1 </td>
						<td><img src = './img/leftArrow.png' class = 'a' id = 'l1'/><span id = '1'> A </span><img src = './img/rightArrow.png' class = 'a' id = 'r1'/></td>
						<td><img src = './img/box.png' class = 'h' id = 'h1'/></td>
					</tr>
					<tr>
						<td>2 </td>
						<td><img src = './img/leftArrow.png' class = 'a' id = 'l2'/><span id = '2'> A </span><img src = './img/rightArrow.png' class = 'a' id = 'r2'/></td>
						<td><img src = './img/box.png' class = 'h' id = 'h2'/></td>
					</tr>
					<tr>
						<td>3 </td>
						<td><img src = './img/leftArrow.png' class = 'a' id = 'l3'/><span id = '3'> A </span><img src = './img/rightArrow.png' class = 'a' id = 'r3'/></td>
						<td><img src = './img/box.png' class = 'h' id = 'h3'/></td>
					</tr>
					<tr>
						<td>4 </td>
						<td><img src = './img/leftArrow.png' class = 'a' id = 'l4'/><span id = '4'> A </span><img src = './img/rightArrow.png' class = 'a' id = 'r4'/></td>
						<td><img src = './img/box.png' class = 'h' id = 'h4'/></td>
					</tr>
					<tr>
						<td>5 </td>
						<td><img src = './img/leftArrow.png' class = 'a' id = 'l5'/><span id = '5'> A </span><img src = './img/rightArrow.png' class = 'a' id = 'r5'/></td>
						<td><img src = './img/box.png' class = 'h' id = 'h5'/></td>
					</tr>
					<tr>
						<td>6 </td>
						<td><img src = './img/leftArrow.png' class = 'a' id = 'l6'/><span id = '6'> A </span><img src = './img/rightArrow.png' class = 'a' id = 'r6'/></td>
						<td><img src = './img/box.png' class = 'h' id = 'h6'/></td>
					</tr>
					<tr>
						<td>7 </td>
						<td><img src = './img/leftArrow.png' class = 'a' id = 'l7'/><span id = '7'> A </span><img src = './img/rightArrow.png' class = 'a' id = 'r7'/></td>
						<td><img src = './img/box.png' class = 'h' id = 'h7'/></td>
					</tr>
				</table>
				<b id = 'GPAText'>GPA: 4.0</b><br/>
			</form>
		</center>
	</body>
</html>